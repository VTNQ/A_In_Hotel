version: '3.9'

services:
  backend:
    build: ./be
    container_name: ainhotel-be
    ports:
      - "8585:8585"
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql-35bd5266-votannamquoc-130504.h.aivencloud.com:22125/a_in_hotel
      SPRING_DATASOURCE_USERNAME: avnadmin
      SPRING_DATASOURCE_PASSWORD: AVNS_O-jK8HGG8RAfgfyxA5s
      SERVER_PORT: 8585
    restart: always

  frontend-superadmin:
    build: ./fe/SuperAdmin
    container_name: ainhotel-fe-superadmin
    ports:
      - "5173:80"
    depends_on:
      - backend
    restart: always

  frontend-user:
    build: ./fe/User
    container_name: ainhotel-fe-user
    ports:
      - "5174:80"
    depends_on:
      - backend
    restart: always
